{% capture listItems %}
{%- assign allItems = collections.all.products -%}
{%- for item in allItems limit: 4 -%}
 <div role="listitem" class="featured w-dyn-item">
              <a href="{{ item.url | within: collection }}" class="link-to-block w-inline-block">
                <div class="product-card-content" style="background-image: url('{{item.featured_image | img_url: 'master'}}')" data-commerce-type="variation-image"></div>
                <div class="product-price-tag">
                  <h5 class="product-name">{{ item.title }}</h5>
                  <h6 data-commerce-type="variation-price" class="price-on-product">{{ item.price | money }}</h6>
                </div>
              </a>
            </div>
{%- endfor -%}
{% endcapture %}
{% assign items_length = listItems | strip | size %}

<div setting-name="featured products" class="w-dyn-list" udy-collection="product">
          {%- unless items_length == 0 -%}<div role="list" class="main-cards-box featured w-dyn-items">
            {{ listItems }}
          </div>{%- endunless -%}
          {%- if items_length == 0 -%}<div class="w-dyn-empty">
            <div>No items found.</div>
          </div>{%- endif -%}
        </div>